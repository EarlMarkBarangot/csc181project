 {% extends 'admin_layout.html' %}

{% block body %}

    <div class="form_tag">
        Tenant Form
    </div>
    <div class="container" style="width:100%; height:100%;">
        <div class="row">
            <div class="col-lg-6" style="box-shadow:0 13px 20px 0px #bdbdbd; background-color:white; padding: 2% 2%;">
                <form method="POST" enctype="multipart/form-data">
                        {{form1.hidden_tag()}}
                        <div class="row">
                            <div class="col-lg-8">
                                <div class="form-group">
                                    <label for="fname">First Name:</label> <br>
                                    {{ form1.fname(placeholder = "First Name", class="form-control", id="fname") }}
                                    {% if form1.fname.errors %}
                                    {% for error in form1.fname.errors %}<span class="help-inline">{{ error }}</span> {% endfor %} {% endif %}<br>
                                    <label for="mname">Middle Name:</label> <br>
                                    {{ form1.mname(placeholder = "Middle Name", class="form-control", id="mname") }}{% if form1.mname.errors %}
                                    {% for error in form1.mname.errors %}<span class="help-inline">{{ error }}</span> {% endfor %} {% endif %}<br>
                                    <label for="lname">Last Name:</label> <br>
                                    {{ form1.lname(placeholder = "Last Name", class="form-control", id="lname") }} {% if form1.lname.errors %}
                                    {% for error in form1.lname.errors %} <span class="help-inline">{{ error }}</span> {% endfor %} {% endif %}<br>
                                    <label for="contnum"  >Contact Number:</label> <br>
                                    {{ form1.contnum(placeholder = "Contact Number", class="form-control", id="contnum") }}
                                        {% if form1.contnum.errors %}
                                    {% for error in form1.contnum.errors %} <span class="help-inline">{{ error }} </span> {% endfor %} {% endif %}<br>
                                    <label for="address" >Present Address: </label><br>
                                    {{ form1.address(placeholder = "Present Address", class="form-control", id="address") }} {% if form1.address.errors %}
                                    {% for error in form1.address.errors %}  <span class="help-inline">{{ error }} </span> {% endfor %} {% endif %}<br>
                                    <label for="stalltype"  >Stall Type:</label> <br/>
                                    {{ form1.stalltype(placeholder = "Stall Type", class="form-control", id="stalltype") }}
                                        {% if form1.stalltype.errors %}
                                    {% for error in form1.stalltype.errors %} <span class="help-inline">{{ error }} </span> {% endfor %} {% endif %}<br>
                                    <label for="stallno"  >Stall#: </label><br>
                                    {{ form1.stallno(placeholder = "Stall#", class="form-control", id="stallno") }} {% if form1.stallno.errors %}
                                    {% for error in form1.stallno.errors %} <span class="help-inline">{{ error }} </span> {% endfor %} {% endif %}<br>
                                    <label for="stallloc"  >Stall Location: </label><br/>
                                    {{ form1.stallloc(placeholder = "Stall Location", class="form-control", id="stallloc") }}
                                        {% if form1.stallloc.errors %}
                                    {% for error in form1.stallloc.errors %}  <span class="help-inline">{{ error }} </span> {% endfor %} {% endif %}<br>



                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <br>{{ form1.submit(class="btn btn-primary") }}
                            </div>
                        </div>


                        <div id="tenantphoto" style="position:absolute;left:65%;top:5%;width:20%;height:65%;">
                            <div style="width:150%;height:34%;background-color:gray;">
                            </div>
                            {{form1.tenantphotoID}}
                        </div>
                </form>
            </div>

            <div class="col-lg-5" height="100px" style="margin-left:1%; width:47%;">
                <div class="row">
                    <div class="col-lg-12" style="box-shadow:0 13px 20px 0px #bdbdbd; background-color:white;">
                        <h1  style="margin-bottom: 4%;">List of Tenants</h1>
                        <table class="table table-striped table-bordered table-hover" id="myTable3">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Contact#</th>
                                    <th>Stall#</th>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th>Name</th>
                                    <th>Contact#</th>
                                    <th>Stall#</th>

                                </tr>

                            </tfoot>
                            <tbody>
                                {% for res in result %}
                                <tr>
                                    <td>
                                        <a href = "/payment_table/{{res.tenantID}}/{{res.stallID}}">{{ res.last_name }} , {{ res.first_name }} &nbsp; {{ res.mid_name }} </a>
                                    </td>
                                    <td>
                                        {{res.contact_no}}
                                    </td>
                                    <td>
                                        {{ x[loop.index-1] }}
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12" style="box-shadow:0 13px 20px 0px #bdbdbd; background-color:white; margin-top:3%;">
                        <h1  style="margin-bottom: 4%;">List of Stalls</h1>

                        <table class="table table-striped table-bordered table-hover" id="myTable4">

                                    <div id="example_wrapper" class="dataTables_wrapper form-inline df-bootstrap"></div>
                            <thead>
                                <tr>
                                    <th>Stall Number</th>
                                    <th>Location</th>
                                    <th>Rate</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th>Stall Number</th>
                                    <th>Location</th>
                                    <th>Rate</th>
                                    <th>Type</th>
                                </tr>

                            </tfoot>
                            <tbody>
                                {% for res in result2 %}
                                <tr>
                                    <td>
                                        {{ res.stall_no }}
                                    </td>
                                    <td>
                                        {{ res.stall_loc }}
                                    </td>
                                    <td>
                                        {{ res.stall_rate }}
                                    </td>
                                    <td>
                                        {{ y[loop.index-1] }}
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

<script src="\static\js\jquery-3.2.1.min.js"></script>
<script src="\static\js\jquery.dataTables.min.js"></script>
<script src="\static\js\dataTables.bootstrap.min.js"></script>

<script>
    $('#myTable3').dataTable();
    $('#myTable4').dataTable();
</script>


{% endblock %}
